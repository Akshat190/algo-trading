{
  "apiDocumentation": {
    "endpoint": "/api/market",
    "method": "GET",
    "description": "Fetches real-time futures market data for stock symbols",
    "responseFormat": "JSON Array",
    "pollingInterval": "30 seconds",
    "headers": {
      "Content-Type": "application/json"
    }
  },

  "sampleResponse": [
    {
      "symbol": "TCS",
      "lotSize": 300,
      "returns": { 
        "current": 1.2, 
        "near": 2.8, 
        "far": 4.1 
      },
      "lastUpdated": "2025-09-09T14:52:00Z"
    },
    {
      "symbol": "WIPRO", 
      "lotSize": 200, 
      "returns": { 
        "current": 0.8, 
        "near": 3.5, 
        "far": 4.6 
      }, 
      "lastUpdated": "2025-09-09T14:52:00Z"
    },
    {
      "symbol": "INFY", 
      "lotSize": 100, 
      "returns": { 
        "current": 0.5, 
        "near": 1.9, 
        "far": 2.7 
      }, 
      "lastUpdated": "2025-09-09T14:52:00Z"
    },
    {
      "symbol": "RELIANCE", 
      "lotSize": 50, 
      "returns": { 
        "current": 1.0, 
        "near": 3.1, 
        "far": 3.9 
      }, 
      "lastUpdated": "2025-09-09T14:52:00Z"
    },
    {
      "symbol": "HDFC", 
      "lotSize": 150, 
      "returns": { 
        "current": 1.4, 
        "near": 2.6, 
        "far": 3.8 
      }, 
      "lastUpdated": "2025-09-09T14:52:00Z"
    }
  ],

  "extendedTestDataset": [
    {
      "symbol": "TCS",
      "lotSize": 300,
      "returns": { "current": 1.20, "near": 2.85, "far": 4.15 },
      "lastUpdated": "2025-09-09T14:52:00Z"
    },
    {
      "symbol": "RELIANCE", 
      "lotSize": 250,
      "returns": { "current": 0.95, "near": 2.45, "far": 3.78 },
      "lastUpdated": "2025-09-09T14:52:00Z"
    },
    {
      "symbol": "HDFC",
      "lotSize": 550, 
      "returns": { "current": 1.15, "near": 2.95, "far": 4.25 },
      "lastUpdated": "2025-09-09T14:52:00Z"
    },
    {
      "symbol": "INFY",
      "lotSize": 600,
      "returns": { "current": 1.35, "near": 3.10, "far": 4.55 },
      "lastUpdated": "2025-09-09T14:52:00Z"
    },
    {
      "symbol": "ICICI",
      "lotSize": 375,
      "returns": { "current": 0.85, "near": 2.15, "far": 3.45 },
      "lastUpdated": "2025-09-09T14:52:00Z"
    },
    {
      "symbol": "WIPRO",
      "lotSize": 800,
      "returns": { "current": 0.75, "near": 1.95, "far": 2.98 },
      "lastUpdated": "2025-09-09T14:52:00Z"
    },
    {
      "symbol": "BHARTIARTL",
      "lotSize": 1800,
      "returns": { "current": 0.65, "near": 1.85, "far": 2.75 },
      "lastUpdated": "2025-09-09T14:52:00Z"
    },
    {
      "symbol": "HCLTECH",
      "lotSize": 700,
      "returns": { "current": 1.05, "near": 2.65, "far": 3.85 },
      "lastUpdated": "2025-09-09T14:52:00Z"
    },
    {
      "symbol": "BAJFINANCE",
      "lotSize": 125,
      "returns": { "current": 1.45, "near": 3.25, "far": 4.85 },
      "lastUpdated": "2025-09-09T14:52:00Z"
    },
    {
      "symbol": "LT",
      "lotSize": 500,
      "returns": { "current": 0.95, "near": 2.35, "far": 3.55 },
      "lastUpdated": "2025-09-09T14:52:00Z"
    },
    {
      "symbol": "ASIANPAINT",
      "lotSize": 300,
      "returns": { "current": 0.88, "near": 2.18, "far": 3.28 },
      "lastUpdated": "2025-09-09T14:52:00Z"
    },
    {
      "symbol": "MARUTI",
      "lotSize": 100,
      "returns": { "current": 1.25, "near": 2.95, "far": 4.15 },
      "lastUpdated": "2025-09-09T14:52:00Z"
    },
    {
      "symbol": "KOTAKBANK",
      "lotSize": 400,
      "returns": { "current": 1.05, "near": 2.55, "far": 3.75 },
      "lastUpdated": "2025-09-09T14:52:00Z"
    },
    {
      "symbol": "HDFCBANK",
      "lotSize": 550,
      "returns": { "current": 1.15, "near": 2.85, "far": 4.05 },
      "lastUpdated": "2025-09-09T14:52:00Z"
    },
    {
      "symbol": "SBIN",
      "lotSize": 1500,
      "returns": { "current": 0.75, "near": 1.95, "far": 2.85 },
      "lastUpdated": "2025-09-09T14:52:00Z"
    },
    {
      "symbol": "TECHM",
      "lotSize": 600,
      "returns": { "current": 0.95, "near": 2.25, "far": 3.35 },
      "lastUpdated": "2025-09-09T14:52:00Z"
    },
    {
      "symbol": "ONGC",
      "lotSize": 4200,
      "returns": { "current": 0.65, "near": 1.75, "far": 2.65 },
      "lastUpdated": "2025-09-09T14:52:00Z"
    },
    {
      "symbol": "TATAMOTORS",
      "lotSize": 1800,
      "returns": { "current": 1.35, "near": 3.15, "far": 4.65 },
      "lastUpdated": "2025-09-09T14:52:00Z"
    },
    {
      "symbol": "POWERGRID",
      "lotSize": 3200,
      "returns": { "current": 0.55, "near": 1.45, "far": 2.25 },
      "lastUpdated": "2025-09-09T14:52:00Z"
    },
    {
      "symbol": "TITAN",
      "lotSize": 300,
      "returns": { "current": 1.25, "near": 2.95, "far": 4.25 },
      "lastUpdated": "2025-09-09T14:52:00Z"
    }
  ],

  "volatileTestDataset": [
    {
      "symbol": "TCS",
      "lotSize": 300,
      "returns": { "current": 2.85, "near": 5.25, "far": 7.85 },
      "lastUpdated": "2025-09-09T14:52:00Z"
    },
    {
      "symbol": "RELIANCE", 
      "lotSize": 250,
      "returns": { "current": 2.45, "near": 4.95, "far": 7.25 },
      "lastUpdated": "2025-09-09T14:52:00Z"
    },
    {
      "symbol": "INFY",
      "lotSize": 600,
      "returns": { "current": 3.15, "near": 6.35, "far": 9.15 },
      "lastUpdated": "2025-09-09T14:52:00Z"
    },
    {
      "symbol": "BAJFINANCE",
      "lotSize": 125,
      "returns": { "current": 4.25, "near": 8.45, "far": 12.65 },
      "lastUpdated": "2025-09-09T14:52:00Z"
    },
    {
      "symbol": "TATAMOTORS",
      "lotSize": 1800,
      "returns": { "current": 3.85, "near": 7.15, "far": 10.85 },
      "lastUpdated": "2025-09-09T14:52:00Z"
    }
  ],

  "dataContract": {
    "required": {
      "symbol": {
        "type": "string",
        "description": "Stock symbol identifier (e.g., 'TCS', 'RELIANCE')",
        "maxLength": 20,
        "example": "TCS"
      },
      "lotSize": {
        "type": "integer", 
        "description": "Default lot size for futures trading",
        "minimum": 1,
        "maximum": 999999,
        "example": 300
      },
      "returns": {
        "type": "object",
        "description": "Return percentages for different expiry periods",
        "properties": {
          "current": {
            "type": "number",
            "description": "Current period return percentage",
            "minimum": -100,
            "maximum": 100,
            "example": 1.2
          },
          "near": {
            "type": "number", 
            "description": "Near expiry return percentage",
            "minimum": -100,
            "maximum": 100,
            "example": 2.8
          },
          "far": {
            "type": "number",
            "description": "Far expiry return percentage", 
            "minimum": -100,
            "maximum": 100,
            "example": 4.1
          }
        }
      },
      "lastUpdated": {
        "type": "string",
        "format": "ISO 8601 datetime",
        "description": "Timestamp of last data update",
        "example": "2025-09-09T14:52:00Z"
      }
    }
  },

  "calculationExamples": {
    "example1": {
      "input": {
        "symbol": "TCS",
        "lotSize": 300,
        "current": 1.2,
        "near": 2.8,
        "selectedExpiry": "near"
      },
      "calculations": {
        "y": "300 × (1.2 / 100) = 3.60",
        "x": "300 × (2.8 / 100) = 8.40", 
        "profit": "3.60 - 8.40 = -4.80"
      },
      "output": {
        "y": 3.6,
        "x": 8.4,
        "profit": -4.8,
        "profitColor": "red"
      }
    },
    "example2": {
      "input": {
        "symbol": "WIPRO",
        "lotSize": 200,
        "current": 3.5,
        "far": 2.1,
        "selectedExpiry": "far"
      },
      "calculations": {
        "y": "200 × (3.5 / 100) = 7.00",
        "x": "200 × (2.1 / 100) = 4.20",
        "profit": "7.00 - 4.20 = +2.80"
      },
      "output": {
        "y": 7.0,
        "x": 4.2,
        "profit": 2.8,
        "profitColor": "green"
      }
    }
  },

  "testingScenarios": {
    "thresholdFiltering": {
      "description": "Test filtering by threshold percentage",
      "testCases": [
        {
          "threshold": 1.0,
          "expectedResults": "Show all stocks with selected expiry >= 1%"
        },
        {
          "threshold": 3.0,
          "expectedResults": "Show only stocks with selected expiry >= 3%"
        },
        {
          "threshold": 5.0,
          "expectedResults": "Show only high-performing stocks"
        }
      ]
    },
    "sorting": {
      "description": "Test sorting by selected expiry return DESC",
      "testCases": [
        {
          "expiry": "near",
          "expectedOrder": "INFY (3.10), TCS (2.85), HDFC (2.95)..."
        },
        {
          "expiry": "far", 
          "expectedOrder": "BAJFINANCE (4.85), TATAMOTORS (4.65), INFY (4.55)..."
        }
      ]
    },
    "search": {
      "description": "Test symbol search functionality",
      "testCases": [
        {
          "searchTerm": "TC",
          "expectedResults": ["TCS", "HCLTECH"]
        },
        {
          "searchTerm": "hdfc",
          "expectedResults": ["HDFC", "HDFCBANK"]
        }
      ]
    },
    "edgeCases": {
      "emptyData": [],
      "singleStock": [
        {
          "symbol": "TEST",
          "lotSize": 100,
          "returns": { "current": 0.5, "near": 1.0, "far": 1.5 },
          "lastUpdated": "2025-09-09T14:52:00Z"
        }
      ],
      "negativeReturns": [
        {
          "symbol": "BEAR",
          "lotSize": 200,
          "returns": { "current": -2.5, "near": -1.8, "far": -0.9 },
          "lastUpdated": "2025-09-09T14:52:00Z"
        }
      ]
    }
  }
}
